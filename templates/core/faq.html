{% extends 'base.html' %}
{% load static %}

{% block title %}FAQ - TrustEscrow Nigeria{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="text-center mb-5">
                <h1 class="display-4">Frequently Asked Questions</h1>
                <p class="lead text-muted">Find answers to common questions about TrustEscrow</p>
            </div>
            
            {% if faqs %}
                <div class="accordion" id="faqAccordion">
                    {% for faq in faqs %}
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header" id="heading{{ forloop.counter }}">
                            <button class="accordion-button {% if not forloop.first %}collapsed{% endif %}" type="button" 
                                    data-bs-toggle="collapse" data-bs-target="#collapse{{ forloop.counter }}" 
                                    aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}" 
                                    aria-controls="collapse{{ forloop.counter }}">
                                <i class="bi bi-question-circle me-2"></i>
                                {{ faq.question }}
                            </button>
                        </h2>
                        <div id="collapse{{ forloop.counter }}" 
                             class="accordion-collapse collapse {% if forloop.first %}show{% endif %}" 
                             aria-labelledby="heading{{ forloop.counter }}" 
                             data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                {{ faq.answer|linebreaks }}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <!-- Default FAQs if none in database -->
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                <i class="bi bi-question-circle me-2"></i>
                                What is TrustEscrow Nigeria?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                TrustEscrow Nigeria is a secure payment platform that acts as a trusted third party between clients and service providers. We hold money in escrow until the service is completed satisfactorily, protecting both parties in the transaction.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                <i class="bi bi-question-circle me-2"></i>
                                How does the escrow process work?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                1. Client creates a transaction and pays into escrow<br>
                                2. Service provider receives notification and starts work<br>
                                3. Both parties can communicate through our platform<br>
                                4. Provider marks work as completed<br>
                                5. Client reviews and approves (or payment auto-releases after 5 days)<br>
                                6. Money is released to provider's bank account
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                <i class="bi bi-question-circle me-2"></i>
                                What are the fees?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                TrustEscrow charges a simple 2.5% platform fee per transaction. There are no hidden charges, setup fees, or monthly subscriptions. You only pay when you complete a transaction.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                <i class="bi bi-question-circle me-2"></i>
                                Is my money safe?
                            </button>
                        </h2>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes! We use bank-grade encryption and secure payment processing through Paystack. Your money is held in a secure escrow account and is only released when you approve the completed work or after the auto-release period.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                <i class="bi bi-question-circle me-2"></i>
                                What happens if there's a dispute?
                            </button>
                        </h2>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                If the client is not satisfied with the completed work, they can raise a dispute. Our admin team will review both sides and make a fair decision within 3-5 business days. The resolution may result in a full refund, partial refund, or full payment to the provider.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                                <i class="bi bi-question-circle me-2"></i>
                                What is auto-release?
                            </button>
                        </h2>
                        <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                After a service provider marks work as completed, the client has 5 days to review and approve. If no action is taken within this period (and no dispute is raised), the payment is automatically released to the service provider.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq7">
                                <i class="bi bi-question-circle me-2"></i>
                                How do I withdraw my earnings?
                            </button>
                        </h2>
                        <div id="faq7" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Once payment is released to your wallet, you can request a withdrawal. Simply add your bank details in your profile, and we'll transfer the money directly to your account. Withdrawals are typically processed within 24 hours.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq8">
                                <i class="bi bi-question-circle me-2"></i>
                                What payment methods do you accept?
                            </button>
                        </h2>
                        <div id="faq8" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                We accept payment via debit/credit cards (Visa, Mastercard, Verve), bank transfer, and USSD. All payments are processed securely through Paystack.
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
            
            <!-- Still have questions? -->
            <div class="card mt-5">
                <div class="card-body text-center p-5">
                    <h3>Still have questions?</h3>
                    <p class="text-muted">Our support team is here to help</p>
                    <a href="{% url 'core:contact' %}" class="btn btn-primary mt-3">
                        <i class="bi bi-envelope"></i> Contact Support
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}